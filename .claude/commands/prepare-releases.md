---
description: Review changes and update draft release descriptions for all santa-lang implementations
---

# Prepare Releases Command

Update the draft release descriptions for all santa-lang implementations based on changes since the last published release.

## Implementation Repositories

| Codename | GitHub Repo                | Local Path                    |
| -------- | -------------------------- | ----------------------------- |
| Comet    | eddmann/santa-lang-rs      | ~/Projects/santa-lang-rs      |
| Blitzen  | eddmann/santa-lang-blitzen | ~/Projects/santa-lang-blitzen |
| Prancer  | eddmann/santa-lang-ts      | ~/Projects/santa-lang-ts      |

## Task

For each implementation repository:

1. **Find releases** using `gh release list --repo eddmann/<repo> --json tagName,isDraft,publishedAt --limit 10`

   - Identify the draft release (isDraft: true)
   - Identify the last published release (isDraft: false, most recent)

2. **Get commit history** between the last published release and the draft release:

   - Use `gh api repos/eddmann/<repo>/compare/<last-tag>...<draft-tag>` or
   - Navigate to the local repo and run `git log <last-tag>..<draft-branch> --oneline`

3. **Generate release notes** using this template:

```markdown
## What's Changed

<Brief 1-2 sentence summary of the main changes>

### Features

- <feature descriptions derived from commits with feat:, add:, or similar>

### Bug Fixes

- <fix descriptions derived from commits with fix:, bugfix:, or similar>

### Other Changes

- <other changes like refactoring, docs, chore, etc.>

**Full Changelog**: https://github.com/eddmann/<repo>/compare/<last-tag>...<draft-tag>
```

Notes on the template:

- Omit sections (Features, Bug Fixes, Other Changes) if there are no changes of that type
- Derive change descriptions from commit messages
- Keep descriptions concise but meaningful
- The Full Changelog link is auto-generated by GitHub when you include it

4. **Update the draft release** using:

   ```bash
   gh release edit <draft-tag> --repo eddmann/<repo> --notes "$(cat <<'EOF'
   <generated release notes>
   EOF
   )"
   ```

5. **Report results** with links to each updated draft release:
   - https://github.com/eddmann/santa-lang-rs/releases
   - https://github.com/eddmann/santa-lang-blitzen/releases
   - https://github.com/eddmann/santa-lang-ts/releases

## Important Notes

- Do NOT publish the releases - only update the draft descriptions
- If a repository has no draft release, report this and skip it
- If there are no changes since the last release, note this in the description
- Process all three repositories and report on each
